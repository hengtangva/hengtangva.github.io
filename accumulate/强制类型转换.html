<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>强制类型装换 | Valjeanth&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="我亦飘零久，十年来，深恩负尽">
    
    <link rel="preload" href="/assets/css/0.styles.60dd0459.css" as="style"><link rel="preload" href="/assets/js/app.0ca42ae6.js" as="script"><link rel="preload" href="/assets/js/2.515f669a.js" as="script"><link rel="preload" href="/assets/js/68.eb6c7329.js" as="script"><link rel="prefetch" href="/assets/js/10.4260b3ca.js"><link rel="prefetch" href="/assets/js/100.6421f402.js"><link rel="prefetch" href="/assets/js/101.753d4f5a.js"><link rel="prefetch" href="/assets/js/102.04d0f91c.js"><link rel="prefetch" href="/assets/js/103.fce5b587.js"><link rel="prefetch" href="/assets/js/104.0c1d91c6.js"><link rel="prefetch" href="/assets/js/105.6fc090b0.js"><link rel="prefetch" href="/assets/js/106.eb04df43.js"><link rel="prefetch" href="/assets/js/107.1ed6d9d7.js"><link rel="prefetch" href="/assets/js/108.49134f48.js"><link rel="prefetch" href="/assets/js/109.46747f86.js"><link rel="prefetch" href="/assets/js/11.88b87b82.js"><link rel="prefetch" href="/assets/js/110.741b0788.js"><link rel="prefetch" href="/assets/js/111.8ad168c8.js"><link rel="prefetch" href="/assets/js/112.1dd92670.js"><link rel="prefetch" href="/assets/js/113.36b21cde.js"><link rel="prefetch" href="/assets/js/114.8c3be7f7.js"><link rel="prefetch" href="/assets/js/115.aa32a5a3.js"><link rel="prefetch" href="/assets/js/116.c623be61.js"><link rel="prefetch" href="/assets/js/117.f301d9c7.js"><link rel="prefetch" href="/assets/js/118.58eb2a6e.js"><link rel="prefetch" href="/assets/js/119.84201e70.js"><link rel="prefetch" href="/assets/js/12.ba2c56b3.js"><link rel="prefetch" href="/assets/js/120.d4f914fb.js"><link rel="prefetch" href="/assets/js/121.11bc675f.js"><link rel="prefetch" href="/assets/js/122.532b2aa0.js"><link rel="prefetch" href="/assets/js/123.8f7cab97.js"><link rel="prefetch" href="/assets/js/124.dc742648.js"><link rel="prefetch" href="/assets/js/125.6a76c691.js"><link rel="prefetch" href="/assets/js/126.ba2f5e66.js"><link rel="prefetch" href="/assets/js/127.6e07b924.js"><link rel="prefetch" href="/assets/js/128.82fc423e.js"><link rel="prefetch" href="/assets/js/129.d9481933.js"><link rel="prefetch" href="/assets/js/13.976410ef.js"><link rel="prefetch" href="/assets/js/130.ee749818.js"><link rel="prefetch" href="/assets/js/131.b4dd6ab8.js"><link rel="prefetch" href="/assets/js/132.11d6a700.js"><link rel="prefetch" href="/assets/js/133.ef42d156.js"><link rel="prefetch" href="/assets/js/134.d21933e8.js"><link rel="prefetch" href="/assets/js/135.e324a67b.js"><link rel="prefetch" href="/assets/js/136.ae22e3fd.js"><link rel="prefetch" href="/assets/js/137.44125a63.js"><link rel="prefetch" href="/assets/js/138.90654653.js"><link rel="prefetch" href="/assets/js/139.0ebaf63b.js"><link rel="prefetch" href="/assets/js/14.e80a197e.js"><link rel="prefetch" href="/assets/js/140.2079d708.js"><link rel="prefetch" href="/assets/js/141.8e4d75b9.js"><link rel="prefetch" href="/assets/js/142.83530f40.js"><link rel="prefetch" href="/assets/js/143.7c173663.js"><link rel="prefetch" href="/assets/js/144.2f3f7052.js"><link rel="prefetch" href="/assets/js/145.cfd7fd4d.js"><link rel="prefetch" href="/assets/js/146.beded037.js"><link rel="prefetch" href="/assets/js/147.bb629f5d.js"><link rel="prefetch" href="/assets/js/148.f9eaf4a6.js"><link rel="prefetch" href="/assets/js/149.c32d056f.js"><link rel="prefetch" href="/assets/js/15.29d46668.js"><link rel="prefetch" href="/assets/js/150.9e8fd1d5.js"><link rel="prefetch" href="/assets/js/151.7ddadbf1.js"><link rel="prefetch" href="/assets/js/152.4cdea0b2.js"><link rel="prefetch" href="/assets/js/153.20ed70a0.js"><link rel="prefetch" href="/assets/js/154.da8fb617.js"><link rel="prefetch" href="/assets/js/155.6434a5e4.js"><link rel="prefetch" href="/assets/js/156.48d7ae00.js"><link rel="prefetch" href="/assets/js/157.bdef5aef.js"><link rel="prefetch" href="/assets/js/158.ea38b600.js"><link rel="prefetch" href="/assets/js/159.62a5224a.js"><link rel="prefetch" href="/assets/js/16.cd6ae33a.js"><link rel="prefetch" href="/assets/js/160.8c5ad686.js"><link rel="prefetch" href="/assets/js/161.97be7ce4.js"><link rel="prefetch" href="/assets/js/162.fbf93ae3.js"><link rel="prefetch" href="/assets/js/163.918582a9.js"><link rel="prefetch" href="/assets/js/164.72f6a0bc.js"><link rel="prefetch" href="/assets/js/165.f827ebab.js"><link rel="prefetch" href="/assets/js/166.15d06ffe.js"><link rel="prefetch" href="/assets/js/167.7df80607.js"><link rel="prefetch" href="/assets/js/168.863f80be.js"><link rel="prefetch" href="/assets/js/169.ab705a84.js"><link rel="prefetch" href="/assets/js/17.ef754595.js"><link rel="prefetch" href="/assets/js/170.12e580e7.js"><link rel="prefetch" href="/assets/js/171.11a30b2a.js"><link rel="prefetch" href="/assets/js/172.9807ea7e.js"><link rel="prefetch" href="/assets/js/173.84c6c833.js"><link rel="prefetch" href="/assets/js/174.fdcf6905.js"><link rel="prefetch" href="/assets/js/175.18d4a0fd.js"><link rel="prefetch" href="/assets/js/176.2f11ad7e.js"><link rel="prefetch" href="/assets/js/177.349808b6.js"><link rel="prefetch" href="/assets/js/178.92f16f7d.js"><link rel="prefetch" href="/assets/js/18.748745ae.js"><link rel="prefetch" href="/assets/js/19.0dc2491a.js"><link rel="prefetch" href="/assets/js/20.58a81011.js"><link rel="prefetch" href="/assets/js/21.6791ffce.js"><link rel="prefetch" href="/assets/js/22.b7737885.js"><link rel="prefetch" href="/assets/js/23.13c52e18.js"><link rel="prefetch" href="/assets/js/24.b5cc4189.js"><link rel="prefetch" href="/assets/js/25.5179744c.js"><link rel="prefetch" href="/assets/js/26.15071d70.js"><link rel="prefetch" href="/assets/js/27.5dc790d0.js"><link rel="prefetch" href="/assets/js/28.f661e5a0.js"><link rel="prefetch" href="/assets/js/29.ccd17902.js"><link rel="prefetch" href="/assets/js/3.03c42818.js"><link rel="prefetch" href="/assets/js/30.133e4b80.js"><link rel="prefetch" href="/assets/js/31.97ad996e.js"><link rel="prefetch" href="/assets/js/32.aa847bf2.js"><link rel="prefetch" href="/assets/js/33.caff8a6f.js"><link rel="prefetch" href="/assets/js/34.c39015f6.js"><link rel="prefetch" href="/assets/js/35.99dce353.js"><link rel="prefetch" href="/assets/js/36.25276d0a.js"><link rel="prefetch" href="/assets/js/37.3ee0cf49.js"><link rel="prefetch" href="/assets/js/38.5312a451.js"><link rel="prefetch" href="/assets/js/39.cb875e0c.js"><link rel="prefetch" href="/assets/js/4.55b24f61.js"><link rel="prefetch" href="/assets/js/40.7bb1ce63.js"><link rel="prefetch" href="/assets/js/41.1476e2aa.js"><link rel="prefetch" href="/assets/js/42.94ec0921.js"><link rel="prefetch" href="/assets/js/43.57464c8f.js"><link rel="prefetch" href="/assets/js/44.49edbd69.js"><link rel="prefetch" href="/assets/js/45.7d9bf1e6.js"><link rel="prefetch" href="/assets/js/46.82129287.js"><link rel="prefetch" href="/assets/js/47.c81e8da4.js"><link rel="prefetch" href="/assets/js/48.97bc83ad.js"><link rel="prefetch" href="/assets/js/49.d8bbad3b.js"><link rel="prefetch" href="/assets/js/5.2d78771d.js"><link rel="prefetch" href="/assets/js/50.f29dd3d7.js"><link rel="prefetch" href="/assets/js/51.6d4d9750.js"><link rel="prefetch" href="/assets/js/52.b738267c.js"><link rel="prefetch" href="/assets/js/53.07789ac4.js"><link rel="prefetch" href="/assets/js/54.88b3b39c.js"><link rel="prefetch" href="/assets/js/55.4b5a5bd1.js"><link rel="prefetch" href="/assets/js/56.19136ce9.js"><link rel="prefetch" href="/assets/js/57.b2d4e97d.js"><link rel="prefetch" href="/assets/js/58.a71287e5.js"><link rel="prefetch" href="/assets/js/59.5d05a341.js"><link rel="prefetch" href="/assets/js/6.a2648412.js"><link rel="prefetch" href="/assets/js/60.36566b7b.js"><link rel="prefetch" href="/assets/js/61.7fb8bd5e.js"><link rel="prefetch" href="/assets/js/62.79c495ea.js"><link rel="prefetch" href="/assets/js/63.818f4818.js"><link rel="prefetch" href="/assets/js/64.2e1edce8.js"><link rel="prefetch" href="/assets/js/65.ff262b83.js"><link rel="prefetch" href="/assets/js/66.60acc120.js"><link rel="prefetch" href="/assets/js/67.deb435db.js"><link rel="prefetch" href="/assets/js/69.7d811fcb.js"><link rel="prefetch" href="/assets/js/7.fd97ac92.js"><link rel="prefetch" href="/assets/js/70.c35e94a7.js"><link rel="prefetch" href="/assets/js/71.1de0d635.js"><link rel="prefetch" href="/assets/js/72.5a76251b.js"><link rel="prefetch" href="/assets/js/73.6ddc25d9.js"><link rel="prefetch" href="/assets/js/74.8b6a24a3.js"><link rel="prefetch" href="/assets/js/75.729ca7db.js"><link rel="prefetch" href="/assets/js/76.e7124283.js"><link rel="prefetch" href="/assets/js/77.6864f29c.js"><link rel="prefetch" href="/assets/js/78.2465a4d6.js"><link rel="prefetch" href="/assets/js/79.56801182.js"><link rel="prefetch" href="/assets/js/8.2b28110d.js"><link rel="prefetch" href="/assets/js/80.b1714fa0.js"><link rel="prefetch" href="/assets/js/81.d20c21da.js"><link rel="prefetch" href="/assets/js/82.de9be220.js"><link rel="prefetch" href="/assets/js/83.53811558.js"><link rel="prefetch" href="/assets/js/84.ac8c69ec.js"><link rel="prefetch" href="/assets/js/85.3c2e589a.js"><link rel="prefetch" href="/assets/js/86.27d25c85.js"><link rel="prefetch" href="/assets/js/87.b1a6cc13.js"><link rel="prefetch" href="/assets/js/88.58582737.js"><link rel="prefetch" href="/assets/js/89.efc33e31.js"><link rel="prefetch" href="/assets/js/9.ea793fe0.js"><link rel="prefetch" href="/assets/js/90.75a19669.js"><link rel="prefetch" href="/assets/js/91.22469024.js"><link rel="prefetch" href="/assets/js/92.7e49cbb7.js"><link rel="prefetch" href="/assets/js/93.fe94d538.js"><link rel="prefetch" href="/assets/js/94.45248260.js"><link rel="prefetch" href="/assets/js/95.7fb3b93f.js"><link rel="prefetch" href="/assets/js/96.11147273.js"><link rel="prefetch" href="/assets/js/97.49775c49.js"><link rel="prefetch" href="/assets/js/98.8f9ef363.js"><link rel="prefetch" href="/assets/js/99.01b8e783.js">
    <link rel="stylesheet" href="/assets/css/0.styles.60dd0459.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="assets/logo.jpg" alt="Valjeanth's blog" class="logo"> <span class="site-name can-hide">Valjeanth's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/net/" class="nav-link">
  网络方面
</a></div><div class="nav-item"><a href="/advance/" class="nav-link">
  前端进阶
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  lifeRain
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue 知识
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react 知识
</a></div><div class="nav-item"><a href="/computerBase/" class="nav-link">
  碰到的问题
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  css基础
</a></div><div class="nav-item"><a href="/accumulate/" class="nav-link router-link-active">
  js基础
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法基础
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/net/" class="nav-link">
  网络方面
</a></div><div class="nav-item"><a href="/advance/" class="nav-link">
  前端进阶
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  lifeRain
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue 知识
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react 知识
</a></div><div class="nav-item"><a href="/computerBase/" class="nav-link">
  碰到的问题
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  css基础
</a></div><div class="nav-item"><a href="/accumulate/" class="nav-link router-link-active">
  js基础
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法基础
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/accumulate/变量提升.html" class="sidebar-link">var const let</a></li><li><a href="/accumulate/代理和反射.html" class="sidebar-link">代理与反射</a></li><li><a href="/accumulate/迭代器.html" class="sidebar-link">迭代器</a></li><li><a href="/accumulate/生成器.html" class="sidebar-link">生成器</a></li><li><a href="/accumulate/异步的最终解决方案.html" class="sidebar-link">async 和 await</a></li><li><a href="/accumulate/获取dom的返回元素.html" class="sidebar-link">获取 dom 返回的是什么？</a></li><li><a href="/accumulate/模板字符串.html" class="sidebar-link">es6 的模板字符串语法</a></li><li><a href="/accumulate/判断数据类型.html" class="sidebar-link">判断数据类型小结</a></li><li><a href="/accumulate/强制类型转换.html" class="active sidebar-link">强制类型装换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#显示与隐式" class="sidebar-link">显示与隐式</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#各个基本类型的强制转换规则" class="sidebar-link">各个基本类型的强制转换规则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#tostring" class="sidebar-link">toString</a></li></ul></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#tonumber" class="sidebar-link">toNumber</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#toboolean" class="sidebar-link">toBoolean</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#强制类型转换" class="sidebar-link">强制类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#原生的构造函数" class="sidebar-link">原生的构造函数</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#转为-string" class="sidebar-link">转为 String</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#转为-number" class="sidebar-link">转为 number</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#转为-boolean" class="sidebar-link">转为 boolean</a></li></ul></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#隐式转换" class="sidebar-link">隐式转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#二元" class="sidebar-link">二元 +</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#二元-2" class="sidebar-link">二元 -</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#判断表达式" class="sidebar-link">判断表达式</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#宽松相等操作符" class="sidebar-link">== 宽松相等操作符</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#比较少见的情况" class="sidebar-link">比较少见的情况</a></li></ul></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#比较运算符" class="sidebar-link">比较运算符</a></li><li class="sidebar-sub-header"><a href="/accumulate/强制类型转换.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/accumulate/箭头函数.html" class="sidebar-link">箭头函数</a></li><li><a href="/accumulate/事件代理.html" class="sidebar-link">事件代理</a></li><li><a href="/accumulate/promise基础.html" class="sidebar-link">Promise</a></li><li><a href="/accumulate/手写promise.html" class="sidebar-link">手写 Promise</a></li><li><a href="/accumulate/promise用es5实现.html" class="sidebar-link">promise 的内部是如何实现的</a></li><li><a href="/accumulate/new操作符.html" class="sidebar-link">new 操作符到底干了什么</a></li><li><a href="/accumulate/meta的用法.html" class="sidebar-link">meta 的用法</a></li><li><a href="/accumulate/js继承.html" class="sidebar-link">js 的几种继承方式</a></li><li><a href="/accumulate/class的使用.html" class="sidebar-link">class 的使用</a></li><li><a href="/accumulate/js的number.html" class="sidebar-link">js 的 number</a></li><li><a href="/accumulate/fetch.html" class="sidebar-link">fetch API</a></li><li><a href="/accumulate/set.html" class="sidebar-link">set 的使用</a></li><li><a href="/accumulate/map.html" class="sidebar-link">map 的使用</a></li><li><a href="/accumulate/weakmap和weakset.html" class="sidebar-link">weakmap 和 weakset</a></li><li><a href="/accumulate/symbol.html" class="sidebar-link">Symbol 的使用</a></li><li><a href="/accumulate/defer和ascyc.html" class="sidebar-link">defer 和 ascyc 区别</a></li><li><a href="/accumulate/原型和原型链.html" class="sidebar-link">原型与原型链</a></li><li><a href="/accumulate/有关this.html" class="sidebar-link">有关 this</a></li><li><a href="/accumulate/运算符优先级.html" class="sidebar-link">运算符的优先级小结</a></li><li><a href="/accumulate/指数操作符.html" class="sidebar-link">指数操作符</a></li><li><a href="/accumulate/call和apply和bind.html" class="sidebar-link">call apply bind</a></li><li><a href="/accumulate/页面的生命周期.html" class="sidebar-link">页面的生命周期</a></li><li><a href="/accumulate/数组的高阶函数-splice.html" class="sidebar-link">数组高阶函数-splice</a></li><li><a href="/accumulate/数组的高阶函数-reduce.html" class="sidebar-link">数组的高阶函数-reduce</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="强制类型装换"><a href="#强制类型装换" class="header-anchor">#</a> 强制类型装换</h1> <p>该部分内容根据 <strong>你不知道的js</strong> 总结。</p> <h2 id="显示与隐式"><a href="#显示与隐式" class="header-anchor">#</a> 显示与隐式</h2> <p>其实显示和隐式是相对的，如果你知道它会转换，那它就是显示的，你不知道就是隐式的。</p> <p>但是，我们还是想和其他语言对比来区分一下。</p> <p>在区分之前，先来看类型转换是如何发生的。</p> <hr> <h2 id="各个基本类型的强制转换规则"><a href="#各个基本类型的强制转换规则" class="header-anchor">#</a> 各个基本类型的强制转换规则</h2> <h3 id="tostring"><a href="#tostring" class="header-anchor">#</a> toString</h3> <ol><li><p>null： null 直接转化为 'null'。</p></li> <li><p>undefined：undefined 直接转换为 'undefined'。</p></li> <li><p>boolean：布尔值，true 转为 'true'，false 转为 'false'。</p></li> <li><p>number：数字类型直接转为数字字符串，如 123 就转为 '123'。注意的是，数字很大时转为指数形式字符串，看下面例子。</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1.07</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">1000</span>

a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '1.07e21'</span>
<span class="token comment">// ps: 基本类型是没有 toString 方法的，这里是先包装成 Number 对象，再调用 toString</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="5"><li>object： 如果对象有自己的 toString 方法，那么强制转换时就会调用自己的方法，否则调用 Object.prototype.toString()。</li></ol> <p>注意的是，数组的 toString() 已经重新定义了，将所有单元符转化为字符串后，再用 &quot;,&quot; 连接。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// &quot;1,2,3&quot;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="tonumber"><a href="#tonumber" class="header-anchor">#</a> toNumber</h2> <ol><li><p>boolean：布尔值，true 转为 1， false 转为 0.</p></li> <li><p>undefined：undefined 转为 NaN。</p></li> <li><p>null：null 转为 0 。</p></li> <li><p>string：字符串是数字字符串的话，直接转为数字(十进制，八进制，十六进制，都可)，有其他的话转为 NaN。空字符串转为 0</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'1.23'</span><span class="token punctuation">)</span> <span class="token comment">// 1.23</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'0xa'</span><span class="token punctuation">)</span>  <span class="token comment">// 10，十六进制</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>    <span class="token comment">// NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>     <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="6"><li>object：object 转为数字，首先调用 其 valueOf() 函数，如果返回基本类型就再将其转为 number。</li></ol> <p>如果，返回的不是基本类型，就调用 toString() ,如果返回基本类型 ，再转为 number。</p> <p>否则，产生 TypeError。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">valueOf</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'42'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> b <span class="token operator">=</span>  <span class="token punctuation">{</span>
    <span class="token function-variable function">toString</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'42'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>
<span class="token punctuation">}</span>

<span class="token function">Number</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 42  有 valueOf(), 优先调用，返回基本类型 '42',再强制转为 42</span>
<span class="token function">Number</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>  <span class="token comment">// 42  没有 valueOf(), 调用 toString(), 返回基本类型 '42',再强制转为 42</span>
<span class="token function">Number</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment">// 42  调用自己的 toString(), 返回一个数字字符串 '42' ，再强制转为 42</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// 0   注意的是 空字符串 转为 0 </span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token comment">// 0   空数组调用原型上的 valueOf() 返回的还是空数组，不是基本类型，继续调用原型上的 toString(),返回空字符串，再转为 0 </span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token comment">// NaN  先是调用 Array 原型上的 valueOf(), 返回不是基本类型，再调用原型上的 toString(), 返回 'abc',非数字串，返回 NaN.</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="toboolean"><a href="#toboolean" class="header-anchor">#</a> toBoolean</h2> <p>boolean 值需要特别注意点</p> <p><strong>真值和假值</strong></p> <ol><li>假值：</li></ol> <p>假值就是被布尔类型强制转换为 false 的值。</p> <p>假值有：</p> <ul><li><p>undefined</p></li> <li><p>null</p></li> <li><p>''</p></li> <li><p>+0, -0, NaN</p></li></ul> <ol start="2"><li>真值：</li></ol> <p>真值就是被布尔类型强制转换为 true 的值。</p> <p>除了上述列举的假值外，其余值都是真值。</p> <p>像 {}, [], let c = function() {}, 它们都是真值。</p> <hr> <h2 id="强制类型转换"><a href="#强制类型转换" class="header-anchor">#</a> 强制类型转换</h2> <p>之前虽然说，你知道就是显性的，不知道就是隐性的，但当我们和其他语言对比的时候，可以得到一个比较模糊的边界。</p> <p>这个边界就是，有些操作符，或者函数可以直接改变类型，就像 c 里面的 int(float a), 强制把 float 型装换为 int 型了。</p> <p>下面就是来介绍这些操作符或者函数。</p> <h3 id="原生的构造函数"><a href="#原生的构造函数" class="header-anchor">#</a> 原生的构造函数</h3> <p>我们可以使用原生的构造函数，把一个类型转换为我们想要的类型。前面已经使用过一些。</p> <ul><li><p>Number() : 转为 number 类型</p></li> <li><p>String() : 转为 string 类型</p></li> <li><p>Boolean() : 转为 boolean 类型</p></li> <li><p>Object() : 将其封装为对象</p></li></ul> <hr> <p>抛开这些特别明显的，我们来看看稍微不怎么明显的，</p> <h3 id="转为-string"><a href="#转为-string" class="header-anchor">#</a> 转为 String</h3> <ul><li>toString() 方法，能将其他类型转为 string</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '1' ,先是将 1 封装为 Number 对象，再调用 toString()</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="转为-number"><a href="#转为-number" class="header-anchor">#</a> 转为 number</h3> <ul><li>+，单目运算 + 可以把字符串转为 number。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'3.14'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token operator">+</span>a <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">// 5.14</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>parseInt &amp; parseFloat 可以将字符串转为 number</li></ul> <p>谈到这里，即想深入理解一下 parseInt() 这个函数（parseFloat 同理）</p> <p>parseInt 是用来解析数字字符串的，我们根据例子来一一解释其总用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'42'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 42， 可以接受一个数字字符串将其转为对应 数字</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'231aa'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>   <span class="token comment">// 231 ,它会自动截掉不是数字串的部分</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'a12'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>   <span class="token comment">// NaN, 当然，你第一个字符就非数字，它就直接返回 NaN 了。</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>   <span class="token comment">// 42, 你当然可以传入一个数子，不过它会自动转为字符串，再转回来。    </span>

<span class="token comment">// 我们可以用 parseInt 来对数字取整</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">12.1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>   <span class="token comment">// 12, 我们把 12.1 转为 '12.1' ,再截取掉 '.' 后面的字符，因为 '.' 不是数字串  </span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    num<span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span>
    <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 42, 对于不是字符串的参数，它会包装成对象，并调用其中的 toString() 函数</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>最后来看看一些奇怪的 parseInt() 的结果。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span> <span class="token number">0.000008</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 </span>

<span class="token function">parseInt</span><span class="token punctuation">(</span> <span class="token number">0.0000008</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8 ,因为转为字符串时，变成了 '8e-7'</span>

<span class="token function">parseInt</span><span class="token punctuation">(</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 250 ,fasle 先强制转为 'false', fa 是 16 进制可以表示数，返回 250。</span>
<span class="token comment">// parsInt 第二个参数表示处理的数字的进制，当然最后返回的都是 10 进制，上面例子若不传 16 ，就会返回 NaN,</span>

<span class="token function">parseInt</span><span class="token punctuation">(</span> parseInt<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15, parseInt 是 function，截取了 f，    </span>

<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'0x16'</span><span class="token punctuation">)</span>  <span class="token comment">// 10</span>

<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'103'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 以二进制解析，3 丢弃变成 10， 返回十进制 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="转为-boolean"><a href="#转为-boolean" class="header-anchor">#</a> 转为 boolean</h3> <p>转为 boolean 很简单，除了 Boolean() 构造函数，</p> <p>! 运算符，可以将值改成布尔值。</p> <hr> <h2 id="隐式转换"><a href="#隐式转换" class="header-anchor">#</a> 隐式转换</h2> <p>好了，谈了那么多显示的，我们最后再来看隐式的，</p> <p>这类转换主要是操作符的两边类型不一致，其他语言可能直接报错，但是 ，js 会发生强制转换，让操作继续进行。</p> <h3 id="二元"><a href="#二元" class="header-anchor">#</a> 二元 +</h3> <p>二元 + 除了可以让数字相加，还可以让字符串拼接。</p> <p>但是，若两边类型不相同，一边是字符串，另一边是数字的，话就会发生类型装换，数字会转成字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">'34'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '1234'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>知道了这个转换，我们就可以让数字加一个空字符串，得到一个数字串了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>那么，当一边操作数的是对象呢？</p> <p>我们自然而然的想到，它会调用对象的 toString() 函数。得到一个字符串，再来连接。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">vauleOf</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">12</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'13'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 132</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>两边都是对象也是如此，那就都调用 tostring(), 再拼接。</p> <p>由此引申到其他类型也是如此，都会强制转换为 string</p> <p>也就是说，也就是说 二元+ 偏爱字符串，只有 二元+ 两边都是 number 才执行加法运算。</p> <h3 id="二元-2"><a href="#二元-2" class="header-anchor">#</a> 二元 -</h3> <p>与 二元+ 有连个作用不同，二元- 就只有一个作用，即做减法运算。</p> <p>所以，凡是碰到不是 number 的，都会转换为 number 来做减法运算。</p> <p>与此类似的还有 '*'(乘)， '/'(除)，'**'（指数操作</p> <p>来看例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'3.14'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">-</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 3.14  </span>

<span class="token comment">// 对象就先调用 valueOf ，接着 toString，最后 TypeError</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token operator">-</span> d<span class="token punctuation">)</span> <span class="token comment">// -1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>如果你足够细心，可以发现，toString(), 和valueOf(), 在转为 string 和 number 时的优先级是不同的。<br>
这也很好理解，
当需要 number 时，优先找 valueof()，再是 toStirng(), 最后报错<br>
当需要 string 时，优先找 toString(), 再是 vauleOf(), 最后报错</p></div> <h3 id="判断表达式"><a href="#判断表达式" class="header-anchor">#</a> 判断表达式</h3> <p>判断表达式，会自动把所有非布尔值的值强制转换为布尔值。一般是以下情况：</p> <ol><li><p>if() 中的条件判断</p></li> <li><p>for(..;..;..) 中的第二个条件判断。</p></li> <li><p>while() 中的条件判断。</p></li> <li><p>?: 中的条件判断。</p></li> <li><p>逻辑运算符 ||(逻辑或)， &amp;&amp;(逻辑与)，的左边操作数。</p></li></ol> <hr> <p>前面 4 种比较好理解，来看看第五种。</p> <p><strong>||  和  &amp;&amp;</strong></p> <p>叫他们选择器运算符，或者操作数选择器运算符可能更加准确。因为它们返回的不是布尔值。</p> <p>它们返回的是两个操作数的其中一个。</p> <p>先来看一个小例子，再来继续分析。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

a <span class="token operator">||</span> b  <span class="token comment">// 42</span>
a <span class="token operator">&amp;&amp;</span> b  <span class="token comment">// 'abc'</span>

c <span class="token operator">||</span> b  <span class="token comment">// 'abc'</span>
c <span class="token operator">&amp;&amp;</span> b  <span class="token comment">// null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>为什么会出现上面的结果呢？</p> <p>来看看它们到底做了些什么，就知道了。</p> <ol><li><p>|| 会对第一个操作数进行条件判断，如果不是布尔值就强制转换为布尔值，</p> <ul><li>当第一个操作数判断为 true 时，就返回第一个操作数。</li> <li>当第一个操作数判断为 false 时，就返回第二个操作数的值。</li></ul></li> <li><p>&amp;&amp; 也是对第一个操作数进行判断，不是布尔就转为布尔。</p> <ul><li>当其判断为 true，就返回第二个操作数。</li> <li>当其为 false，就返回第一个操作数。</li></ul></li></ol> <h3 id="宽松相等操作符"><a href="#宽松相等操作符" class="header-anchor">#</a> == 宽松相等操作符</h3> <p>之前用于判断相等都是用严格相等 === ，不敢用 == ，就是怕的强制类型转化，这次来理解它。</p> <ol><li>当两边类型相等时，其实很好比较， == 和 === 作用是一样的。</li></ol> <p>需要注意的是下面两种特殊情况：</p> <ul><li><p>NaN == NaN 为 false</p></li> <li><p>+0 == -0 为 true</p></li></ul> <p>再就是对象与对象的比较是比较指针的。指针指向同一个地方即相等。</p> <hr> <p>再来看不同类型值的比较</p> <p><strong>== 偏爱数字</strong></p> <ul><li><p>string 在比较时，string 会转为 number，再比较。</p></li> <li><p>当有一方是 boolean 类型时，布尔值转为 number 。true 转 1， false 转 0</p></li> <li><p>当有一方是对象时，由于偏爱数字，所以先 valueOf(), 再 toString();</p></li></ul> <p><strong>undefined 和 null 喜欢自己玩</strong></p> <p>undefined 和 null 喜欢自己玩，不带其他类型。</p> <p>undefined == null  结果是 true， 它们和其他类型比较都是 false。</p> <p>这给我们带来的好处是，在判断条件时，可以把 null 和 undefined 条件合并写。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> a <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等价于</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><hr> <h3 id="比较少见的情况"><a href="#比较少见的情况" class="header-anchor">#</a> 比较少见的情况</h3> <p>最后，我们来看一下比较少见的情况，并试着对其分析，来复习一下之前所学。</p> <ol><li>[] == ![]  // true</li></ol> <p>这个看上去有些不可思议，但随着我们分析下去，就会发现其为 true 的原理。</p> <ul><li><p>首先，! 操作符出现，让右边的 [] 强制转换为 boolen 值，由于 [] 是真值，所以返回 false</p></li> <li><p>此时，我们得到了 [] == false, [],是对象，先调用 valueOf(),还是对象，再调 toString(),得到 &quot;&quot; 。</p></li> <li><p>由上步得到了 &quot;&quot; == false,  string 转 number ,&quot;&quot; 转为 0 ，boolean 转 number，false 转为 0 。</p></li> <li><p>所以有，0 == 0 ，结果当然为 true。</p></li></ul> <ol start="2"><li>来看这 17 例子，当了解他们隐式转换的原理后，就会有更清晰的理解。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token comment">// false</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token keyword">undefined</span>  <span class="token comment">// false</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">===</span> <span class="token number">NaN</span>  <span class="token comment">//true</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token number">0</span>  <span class="token comment">// true</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span>  <span class="token comment">// false</span>

<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token number">NaN</span>  <span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token number">0</span>  <span class="token comment">// true</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span>  <span class="token comment">// true</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">// true</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// false</span>

<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token keyword">null</span>  <span class="token comment">// false</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token keyword">undefined</span>  <span class="token comment">// false</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token number">NaN</span>  <span class="token comment">// false</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token number">0</span>  <span class="token comment">// true</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// true</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// false</span>

<span class="token number">0</span> <span class="token operator">==</span> <span class="token keyword">null</span>  <span class="token comment">// false</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token keyword">undefined</span>  <span class="token comment">// false</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token number">NaN</span>  <span class="token comment">// false</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">// true</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="比较运算符"><a href="#比较运算符" class="header-anchor">#</a> 比较运算符</h2> <p>比较运算符想比较而言就简单一些了。</p> <p>一般比较是，数字之间的比较，或者 字符串的逐个字符比较，这两种情况。</p> <p>所以，当碰到其他类型时，优先 valueOf(),再 toStirng()</p> <p>来看一个简单的例子，加深理解。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'43'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'042'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a <span class="token operator">&gt;</span> b  <span class="token comment">//true, 因为转为字符串后，第一位 4，和 0 比较，返回 true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>再来看一个很好玩的例子。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

a <span class="token operator">&gt;</span> b <span class="token comment">// false</span>
a <span class="token operator">&lt;</span> b <span class="token comment">// false</span>
a <span class="token operator">==</span> b <span class="token comment">// fasle</span>

a <span class="token operator">&gt;=</span> b <span class="token comment">// true</span>
a <span class="token operator">&lt;=</span> b <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>是不是感觉特别奇怪？有两个奇怪的点，我们先来解决第一个。</p> <ol><li>两个值比较，既不大于，也不小于，还不等于，那么他们什么关系？</li></ol> <ul><li><p>a &gt; b, a，b 先 valueOf(), 得到一个对象，不行，接着 toString(), 得到 &quot;[obejct object]&quot; 这个字符串，他们是相同字符串，当然不会 &gt; 。</p></li> <li><p>a &lt; b, 也是同理。</p></li> <li><p>好玩在 a == b 上，由于他们是对象，所以比较时比较指针，所以不等(这里不按照你的规则玩了)。</p></li></ul> <ol start="2"><li>再来解决第二个好玩的点，既然 a &gt; b, a &lt; b, a == b, 都是 false ，为啥 a &gt;= b 又为 true 了。</li></ol> <p>实际上，js 规范中，&gt;= 叫做不小于，试着把 不 小于 分开读，get 到了吗？</p> <p>就是 小于，再取反，由于，之前都是 fasle ，再经一次取反后就是 true 了。</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>anyway，虽然这里主要是应付面试，当也希望以后自己在代码中能熟练用这些强制转换，不会时 它是 bugs， 当你会了，它们就是 tools</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/accumulate/判断数据类型.html" class="prev">
        判断数据类型小结
      </a></span> <span class="next"><a href="/accumulate/箭头函数.html">
        箭头函数
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0ca42ae6.js" defer></script><script src="/assets/js/2.515f669a.js" defer></script><script src="/assets/js/68.eb6c7329.js" defer></script>
  </body>
</html>
