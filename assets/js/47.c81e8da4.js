(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{431:function(t,v,_){t.exports=_.p+"assets/img/http1.0fb7a94c.jpg"},606:function(t,v,_){"use strict";_.r(v);var p=_(42),s=Object(p.a)({},(function(){var t=this,v=t.$createElement,p=t._self._c||v;return p("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[p("h1",{attrs:{id:"http-和-https"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#http-和-https"}},[t._v("#")]),t._v(" http 和 https")]),t._v(" "),p("p",[t._v("HTTP + 加密 + 认证 + 完整性保护 = HTTPS")]),t._v(" "),p("h2",{attrs:{id:"http-的缺点"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#http-的缺点"}},[t._v("#")]),t._v(" HTTP 的缺点")]),t._v(" "),p("h3",{attrs:{id:"通信使用的明文可能会被窃听"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#通信使用的明文可能会被窃听"}},[t._v("#")]),t._v(" 通信使用的明文可能会被窃听")]),t._v(" "),p("p",[t._v("由于 HTTP 本身不既具有加密的功能，所以也无法做到对通信整体进行加密")]),t._v(" "),p("p",[t._v("即 HTTP 报文使用 明文 方式发送 。")]),t._v(" "),p("p",[t._v("而 TCP/IP 是可能被窃听的网络。")]),t._v(" "),p("p",[t._v("因为你通信的时候，要转很多的路由，所以，想窃听的人，就可以在中间通信阶段窃听报文。")]),t._v(" "),p("p",[t._v("常见的抓包工具有 Wireshark。")]),t._v(" "),p("h3",{attrs:{id:"不验证通信的身份就可能遭遇伪装"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#不验证通信的身份就可能遭遇伪装"}},[t._v("#")]),t._v(" 不验证通信的身份就可能遭遇伪装")]),t._v(" "),p("p",[t._v("HTTP 协议中的请求和响应不会对通信双方进行确认。 也就是说会出现")]),t._v(" "),p("p",[t._v("服务器是否真的就是发送请求中的 URI 真正的主机。")]),t._v(" "),p("p",[t._v("返回的响应是否真的返回到了提出请求的客户端。")]),t._v(" "),p("p",[t._v("这两个问题。")]),t._v(" "),p("p",[t._v("由于 HTTP 协议实现的非常简单，不论谁发过来的请求都会返回响应，会存在一些隐患。")]),t._v(" "),p("ul",[p("li",[p("p",[t._v("无法确认请求发送至目标的 Web 服务器是否是按照真实意图返回响应的那台服务器，也可能是别人伪装的服务器。")])]),t._v(" "),p("li",[p("p",[t._v("无法确认响应返回到的客户端是否就是真实意图想接受响应的客户端，也可能被别人伪装。")])]),t._v(" "),p("li",[p("p",[t._v("无法确定正在通信的双方是否具备访问权限，因为有些 web 服务器保存着重要信息，只想发送给特定用户。")])]),t._v(" "),p("li",[p("p",[t._v("无法判断请求来自何方，出自谁手。")])]),t._v(" "),p("li",[p("p",[t._v("即使是无意义的请求也会照单全收，无法阻止海量请求下的 DoS 攻击，就是伪造很多客户端不断请求你的服务器，直到把你服务器搞崩。")])])]),t._v(" "),p("h3",{attrs:{id:"无法证明报文的完整性-可能已经遭篡改"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#无法证明报文的完整性-可能已经遭篡改"}},[t._v("#")]),t._v(" 无法证明报文的完整性，可能已经遭篡改")]),t._v(" "),p("p",[t._v("同样的，既然别人能再中间通信过程中窃听到你的报文，也就能把你的报文拦截下来，加工一番，再发送出去。")]),t._v(" "),p("p",[t._v("而遭到篡改后，服务器和客户端是不知道的。")]),t._v(" "),p("p",[t._v("比如你想在客户端下载一个文件，别人就可能拦截一下来，再把病毒传给你。")]),t._v(" "),p("p",[t._v("经常碰到的情况是，你下载一个应用，结果下载完发现不是你想下载的，而变成了下载其它应用。")]),t._v(" "),p("hr"),t._v(" "),p("h2",{attrs:{id:"https-做了什么"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#https-做了什么"}},[t._v("#")]),t._v(" HTTPS 做了什么")]),t._v(" "),p("p",[t._v("基于上述缺点， HTTPS 就诞生了。")]),t._v(" "),p("p",[t._v("它主要是通过 SSL 加密来解决问题。 我们来一一解决上述问题。")]),t._v(" "),p("ol",[p("li",[p("p",[t._v("窃听问题。")]),t._v(" "),p("ul",[p("li",[p("p",[t._v("报文加密：SSL 可以把报文主体给加密，然后再传给 TCP socket，接受方就从 TCP socket 接受到报文后 给 SSL socket，先解码，再给 HTTTP。注意，头部是不加密的(所以，仍然可能遭篡改)")])]),t._v(" "),p("li",[p("p",[t._v("通信加密：我们可以通过 SSL 或 TLS 的组合使用，加密整通信内容，(整个报文都加密)，这样别人就找不到，你要发送的报文了，因为一条线路上的报文太多了，谁知道你加密后的报文是哪来的，发往哪。")])])])]),t._v(" "),p("li",[p("p",[t._v("身份伪装的问题：")]),t._v(" "),p("ul",[p("li",[p("p",[t._v("解决身份伪装的问题，一个很明显的解决思路就是认证双方身份。但两个人是不能相互认证的，总不能服务器说，我就是你要的服务器啊，请求快发给我吧，没有问题的。。。谁会信呢？")])]),t._v(" "),p("li",[p("p",[t._v("所以，我们要第三方来做一个中间人(这个中间人指的信赖)，来验证双发各自的身份。")])]),t._v(" "),p("li",[p("p",[t._v("这就是我们 SSL 的另一个作用，它使用了一种被称为证书的手段。证书由第三方机构颁发，来证明客户端和服务器是真实存在的，不是别人伪造的。(ps：伪造证书很难) ，所以，只要能够确认通信放持有的证书，即可判断通信双发的真实意图。")])])]),t._v(" "),p("p",[p("img",{attrs:{src:_(431),alt:""}})]),t._v(" "),p("p",[t._v("另外，客户端持有证书，既可以完成个人身份的确认，也可以用于 web 网站的认证环节。")])]),t._v(" "),p("li",[p("p",[t._v("报文篡改问题：")]),t._v(" "),p("ul",[p("li",[p("p",[t._v("由于，通信过程不在我们掌控中，所以，别人篡改我们是阻止不了的，但可以验证是否被篡改过，篡改过的报文我局不要了。重新再发一份。")])]),t._v(" "),p("li",[p("p",[t._v("以前，我们可用 MD5 来验证发送前后是否文件一样，但是如果用来验证的 MD5 散列值也被篡改就没办法了。")])]),t._v(" "),p("li",[p("p",[t._v("所以，我们可以用 SSL 来阻止。")])])])])]),t._v(" "),p("hr"),t._v(" "),p("h2",{attrs:{id:"为什么还有-http-存在"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#为什么还有-http-存在"}},[t._v("#")]),t._v(" 为什么还有 http 存在")]),t._v(" "),p("ol",[p("li",[p("p",[t._v("https 的加密通信会会消耗更多的 cpu 以及 内存资源，所以一般涉及重要信息，如支付时，还是得选择 https。")])]),t._v(" "),p("li",[p("p",[t._v("买证书是要钱的，第三方不会免费给你证书。")])]),t._v(" "),p("li",[p("p",[t._v("实际上是，现在基本所有网站都是 https 了，包括看一些人的个人博客。")])])]),t._v(" "),p("h2",{attrs:{id:"https-和-http-区别"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#https-和-http-区别"}},[t._v("#")]),t._v(" HTTPS 和 HTTP 区别")]),t._v(" "),p("ol",[p("li",[p("p",[t._v("http 的默认端口是 80， https 默认端口是 433")])]),t._v(" "),p("li",[p("p",[t._v("http 明文传输，https 用 ssl 加密传输")])]),t._v(" "),p("li",[p("p",[t._v("http 需要证书")])])])])}),[],!1,null,null,null);v.default=s.exports}}]);